# ğŸ‰ğŸŠFruits_FruitsğŸ’ğŸ
![image](https://github.com/Sooooyeon/Fruits-fruits/assets/118328426/a30071a9-8e38-46dc-a70d-6a9789b981a9)



</br>

## Fruits_Fruits <img src="https://img.shields.io/badge/html5-E34F26?style=for-the-badge&logo=html5&logoColor=white"/> <img src="https://img.shields.io/badge/css3-1572B6?style=for-the-badge&logo=css3&logoColor=white"/> <img src="https://img.shields.io/badge/javascript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black">
Fruits_FruitsëŠ” HTML5 canvasì™€ javascriptë¥¼ ì‚¬ìš©í•´ ì œì‘í•œ ì›¹ ë¯¸ë‹ˆê²Œì„ ì…ë‹ˆë‹¤.
### ğŸš€ ë°°í¬ URL : https://sooooyeon.github.io/Fruits-fruits/
### ê²Œì„ ë°°ê²½
> <p>í•œì í•œ ë§ˆì„ ê·¼ì²˜ì˜ ì‹ ë¹„í•œ ìˆ²ì—ì„œ, ê·€ì—¬ìš´ ê³ ì–‘ì´ ë¯¸ìš”ê°€ ì‹ ë¹„í•œ ì´ì•¼ê¸°ë¥¼ ë“£ê²Œ ë©ë‹ˆë‹¤.
> ìˆ² ì†ì—ëŠ” íŠ¹ë³„í•œ í˜ì„ ì£¼ëŠ” ë‹¤ì„¯ ê°€ì§€ ê³¼ì¼ì´ ìˆë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.
> í˜¸ê¸°ì‹¬ ê°€ë“í•œ ë¯¸ìš”ëŠ” ì´ ê³¼ì¼ì„ ì°¾ì•„ ëª¨í—˜ì„ ë– ë‚˜ê¸°ë¡œ ê²°ì‹¬í•©ë‹ˆë‹¤.
> í•˜ì§€ë§Œ ìˆ²ì€ ê·¸ë¦¬ í˜¸ë½í˜¸ë½í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ê³¼ì¼ì„ ì°¾ëŠ” ë„ì¤‘, ê³ ì–‘ì´ë¥¼ ë°©í•´í•˜ë ¤ëŠ” ë°”ìœ„ë“¤ì´ ê³„ì†í•´ì„œ ë–¨ì–´ì§‘ë‹ˆë‹¤.
> ë¯¸ìš”ëŠ” ê³¼ì¼ì„ ëª¨ìœ¼ê³  ì•ˆì „í•˜ê²Œ ì§‘ìœ¼ë¡œ ëŒì•„ê°€ì•¼ í•©ë‹ˆë‹¤.</p>
### ê²Œì„ ëª©í‘œ
> <p>í”Œë ˆì´ì–´ëŠ” ë¯¸ìš”ë¥¼ ì¡°ì¢…í•˜ì—¬ ë–¨ì–´ì§€ëŠ” ê³¼ì¼ì„ ëª¨ìœ¼ê³  ë°”ìœ„ë¥¼ í”¼í•´ì•¼ í•©ë‹ˆë‹¤.
> ê° ê³¼ì¼ì„ ì„±ê³µì ìœ¼ë¡œ ìˆ˜ì§‘í•  ë•Œë§ˆë‹¤ 3ì ì”© ì ìˆ˜ë¥¼ ì–»ìŠµë‹ˆë‹¤.
> ë°”ìœ„ì— ë§ìœ¼ë©´ ê²Œì„ì´ ì¦‰ì‹œ ì¢…ë£Œë©ë‹ˆë‹¤.
> 100ì ì„ íšë“í•˜ë©´ ë¯¸ìš”ëŠ” ë¬´ì‚¬íˆ ì§‘ìœ¼ë¡œ ëŒì•„ê°ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>


</br>

## âœ¨ ê²Œì„ ì‹¤í–‰
|**í™”ë©´**|**ì„¤ëª…**|
| :-------------------------------: | :-------------------------------: |
| ![gameover](https://github.com/Sooooyeon/Fruits-fruits/assets/118328426/22d44f52-d3b6-41b5-8112-0da9ed90dcee) | enterí‚¤ë¥¼ ëˆŒëŸ¬ ê²Œì„ ì‹¤í–‰ì´ ê°€ëŠ¥í•˜ë©°, ë°©í–¥í‚¤ â†, â†’ ë¡œ ê³ ì–‘ì´ë¥¼ ì¡°ì¢…í•©ë‹ˆë‹¤. ë°”ìœ„ì™€ ì¶©ëŒ ì‹œ ê²Œì„ì€ ë°”ë¡œ ì¢…ë£Œë©ë‹ˆë‹¤. |
| ![winner](https://github.com/Sooooyeon/Fruits-fruits/assets/118328426/9433877d-7070-44dd-aaae-a9f09a27e4dd) | í•œ ê°œì˜ ê³¼ì¼ì„ íšë“í•  ë•Œ ë§ˆë‹¤ 3ì ì˜ ì ìˆ˜ë¥¼ ì–»ìœ¼ë©° 100ì ì„ íšë“í•  ê²½ìš° ê²Œì„ì´ ì¢…ë£Œë©ë‹ˆë‹¤. |


</br>

## ğŸ® ê²Œì„ êµ¬í˜„ 
### 1. ì‹œì‘í™”ë©´ êµ¬ì„± ë° ê²Œì„ ì‹¤í–‰í™”ë©´ ì´ë™
```js
// ìº”ë²„ìŠ¤ ê°ì²´
var threadSpeed = 16, canvas, ctx, canvasBuffer, bufferCtx;

// ê²Œì„ ì‹¤í–‰ í™”ë©´ ë°°ê²½
var background;

// ê³ ì–‘ì´
var cat, sx, sy, sw = 100, sh = 138;

// ê²Œì„ì˜ ìƒíƒœ
var STATE_START = false;
var STATE_GAMEOVER = false;
var STATE_WIN = false;

// í‚¤ ìƒíƒœ (ê²Œì„ì‹œì‘ : enter, ê²Œì„ë‹¤ì‹œ ì‹œì‘ : space, ë°©í–¥í‚¤)
var keyPressed = [];

// ë°˜ë³µ ë£¨í‹´
var loopInstance;

// ì ìˆ˜
var score = 0;

window.addEventListener('load', initialize, false);
window.addEventListener('keydown', getKeyDown, false);
window.addEventListener('keyup', getKeyUp, false);

function initialize() {
  canvas = document.getElementById('canvas');
  if (canvas == null || canvas.getContext == null) return;

  ctx = canvas.getContext('2d');
  canvasBuffer = document.createElement('canvas');
  canvasBuffer.width = canvas.width;
  canvasBuffer.height = canvas.height;
	bufferCtx = canvasBuffer.getContext('2d');

  // ê²Œì„ ì‹œì‘ ë©”ì‹œì§€
  startMessage();

  // ì´ë¯¸ì§€ ì„¤ì •
  setImage();

  loopInstance = setInterval(update, threadSpeed);

}

function setImage() {
  cat = new Image();
  cat.src = "./source/cat.png";
  background = new Image();
  background.src = "./source/bg.png";
}

function startMessage() {
  drawText("bold 100px Bagel Fat One", "#313B95", "center", "FruitsFruits", 20, -60);
  drawText("bold 60px Do Hyeon", "#000000", "center", "Enter To Start", 0, 20);
  drawText("bold 30px Do Hyeon", "#000000", "center", "ë°©í–¥í‚¤ë¡œ ì¡°ì‘í•˜ë©°, ë°”ìœ„ì™€ ì¶©ëŒ ì‹œ ê²Œì„ì´ ì¢…ë£Œë¼ìš”!", 0, 70);
  drawText("bold 30px Do Hyeon", "#000000", "center", "100ì  ì´ìƒ íšë“ì‹œ ìŠ¹ë¦¬!", 0, 110);
}

function update() {
  handleKeyPress();

  if (STATE_START) {
    drawGame(); // ê²Œì„í™”ë©´ì„ ê·¸ë ¤ëƒ„
  } 
}

function handleKeyPress() {
  if ((keyPressed[13] === true) && !STATE_START && !STATE_GAMEOVER) {
    startGame();
  }
}

function startGame() {
  STATE_START = true;
  // ìºë¦­í„° ì´ˆê¸° ìœ„ì¹˜
  sx = canvas.width / 2 - 95;
  sy = canvas.height / 2 + 160;

  // ë°°ê²½ìŒì•… ì¬ìƒ
  var bgm = document.getElementById('bgm');
  bgm.play();
  bgm.volume = 0.3;
}


function getKeyDown(event) {
  keyPressed[event.keyCode] = true;
}

function getKeyUp(event) {
  keyPressed[event.keyCode] = false;
}
```
```css
body {
  background-color: rgb(156, 236, 80);
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0;
  height: 100vh;
  overflow: hidden;

}

canvas {
  background-image: url(./source/bg.png);
  background-size: cover;
  height: 100vh;
}
```


### 2. ê³ ì–‘ì´ ì´ë™ë²”ìœ„ ë° ì†ë„ ì„¤ì •
```js
function update() {
  handleKeyPress();

  if (STATE_START) {
    updatePlayerPosition(); // ê³ ì–‘ì´ ìœ„ì¹˜ ì—…ë°ì´íŠ¸
    
    ...(ìƒëµ)

  }
}

function updatePlayerPosition() {
  if (keyPressed[37]) { sx -= 12; } // ì™¼ìª½ìœ¼ë¡œ ì´ë™ 
  if (keyPressed[39]) { sx += 12; } // ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì´ë™

  // ê³ ì–‘ì´ê°€ ìº”ë²„ìŠ¤ ì™¼ìª½ ê²½ê³„ë¥¼ ë„˜ì§€ ì•Šë„ë¡ í•¨.
  if (sx < 0) {
    sx = 0;
  }

  // ê³ ì–‘ì´ê°€ ìº”ë²„ìŠ¤ ì˜¤ë¥¸ìª½ ê²½ê³„ë¥¼ ë„˜ì§€ ì•Šë„ë¡ í•¨.
  if (sx + sw > canvas.width) {
    sx = canvas.width - sw;
  }
}
```

### 3. ê³¼ì¼ ìƒì„± ë° ê³¼ì¼ ì´ë™ ì„¤ì •
```js
// ê³¼ì¼
var fruits = new Array();
var fruitsName = ['orange', 'peach', 'watermelon', 'pear', 'cherry']
var fruitsSize = 54;

function update() {
  handleKeyPress();

  if (STATE_START) {
      ...(ìƒëµ)
    updateAndDrawFruit(); // ê³¼ì¼ ì¶œë ¥ í•¨ìˆ˜ í˜¸ì¶œ

  }
}

function createFruits() {
  // ê³¼ì¼ ìƒì„± ê°„ê²©ì„ ëœë¤ìœ¼ë¡œ ì„¤ì •
  var interval = Math.floor(Math.random() * 100) + 1000;

  // ê³¼ì¼ ê°ì²´ ìƒì„±
  setTimeout(function () {
    var fruitIndex = Math.floor(Math.random() * fruitsName.length); 
    var fruit = {
      name: fruitsName[fruitIndex], // ê³¼ì¼ ì´ë¦„
      x: Math.floor(Math.random() * (canvas.width - fruitsSize)), // ëœë¤í•œ x ìœ„ì¹˜
      y: -fruitsSize, // í™”ë©´ ìƒë‹¨ì—ì„œ ì‹œì‘
      speed: Math.random() * 5 + 5 
    };

    fruits.push(fruit); // ìƒì„±ëœ ê³¼ì¼ì„ ë°°ì—´ì— ì¶”ê°€

    createFruits(); // ì¬ê·€ì ìœ¼ë¡œ í˜¸ì¶œí•˜ì—¬ ê³„ì†í•´ì„œ ê³¼ì¼ ìƒì„±
  }, interval);
}

function updateAndDrawFruit() {
	fruits.forEach(function (fruit, index) {
	  fruit.y += fruit.speed;
	  drawImage(`./source/${fruit.name}.png`, fruit.x, fruit.y, fruitsSize);
	
	  if (fruit.y > canvas.height) { // ë°”ë‹¥ìœ¼ë¡œ ë–¨ì–´ì§ˆ ê²½ìš° ì œê±°
	    fruits.splice(index, 1);
	  }
	})
}

function drawImage(src, x, y, width, height = width) {
  let image = new Image;
  image.src = src;
  ctx.drawImage(image, x, y, width, height);
}
```



### 4. ë°”ìœ„ ìƒì„± ë° ë°”ìœ„ ì´ë™ ì„¤ì •
```js
// ë°”ìœ„
var rocks = new Array();
var rockSpeed = 5; // ì´ˆê¸° ë°”ìœ„ ì†ë„
var rockSpeedIncrement = 0.5; // ë°”ìœ„ ì†ë„ ì¦ê°€ëŸ‰

function createRock() {
  var interval = Math.floor(Math.random() * 100) + 1000;

  setTimeout(function () {
    var rock = {
      x: Math.floor(Math.random() * (canvas.width - fruitsSize)), // ëœë¤í•œ x ìœ„ì¹˜
      y: -fruitsSize, // í™”ë©´ ìƒë‹¨ì—ì„œ ì‹œì‘
      speed: rockSpeed
    };

    rocks.push(rock); // ìƒì„±ëœ ì¥ì• ë¬¼ì„ ë°°ì—´ì— ì¶”ê°€
    rockSpeed += rockSpeedIncrement;

    createRock(); // ì¬ê·€ì ìœ¼ë¡œ í˜¸ì¶œí•˜ì—¬ ê³„ì†í•´ì„œ ì¥ì• ë¬¼ ìƒì„±
  }, interval);
}

function updateAndDrawRock() {
	rocks.forEach(function (rock, index) {
	  rock.y += rock.speed;
	  drawImage(`./source/rock.png`, rock.x, rock.y, 93, 66);
	
	  if (rock.y > canvas.height) {
	    rocks.splice(index, 1);
	  }
	}
}


function drawImage(src, x, y, width, height = width) {
  let image = new Image;
  image.src = src;
  ctx.drawImage(image, x, y, width, height);
}
```

### 5. ê³ ì–‘ì´ì™€ ê³¼ì¼ ì¶©ëŒ ì‹œ ì ìˆ˜ ì¶”ê°€
```js
function checkCollision(item) {
  return sx < item.x + fruitsSize &&
    sx + sw > item.x &&
    sy < item.y + fruitsSize &&
    sy + sh > item.y;
}

function updateAndDrawFruit(fruit, index) {
  
  ... (ìƒëµ)

  if (checkCollision(fruit)) {
    var getSound = document.getElementById('get')
    getSound.play();
    getSound.volume = 0.3;
    fruits.splice(index, 1);
    score += 3;
  }
}
```

### 6. ê³ ì–‘ì´ì™€ ë°”ìœ„ ì¶©ëŒ ì‹œ ê²Œì„ ì¢…ë£Œ
```js
function updateAndDrawRock(rock, index) {

	... (ìƒëµ)

  if (checkCollision(rock)) {
    endGame();
  }
}

function endGame() {
  document.getElementById('gameover').play();
  document.getElementById('bgm').pause();
  STATE_START = false;
  STATE_GAMEOVER = true;
}

function update() {
  handleKeyPress();

  if (STATE_START) {
	   ...(ìƒëµ)
  } else if (STATE_GAMEOVER) { 
    drawText("bold 100px arial", "#313B95", "center", "Game Over", 0, -30);
    drawText("bold 50px arial", "#000000", "center", "Spacebar to Restart", 0, 30);
  }
}
```

### 7. 100ì  ë‹¬ì„± ì‹œ ìŠ¹ë¦¬
```js
function updateAndDrawRock(rock, index) {

	... (ìƒëµ)

  if (checkCollision(rock)) {
    endGame();
	}
  if (score >= 100) {
    winGame()
  }
}

function winGame() {
  document.getElementById('win').play();
  document.getElementById('bgm').pause();
  STATE_START = false;
  STATE_GAMEOVER = true;
  STATE_WIN = true;
}

function update() {
  handleKeyPress();

  if (STATE_START) {
	   ...(ìƒëµ)
  } else if (STATE_WIN) {
    drawText("bold 100px arial", "#313B95", "center", "You Win!", 0, -30);
    drawText("bold 50px arial", "#000000", "center", "Spacebar to Restart", 0, 30);
  } else if (STATE_GAMEOVER) {
    drawText("bold 100px arial", "#313B95", "center", "Game Over", 0, -30);
    drawText("bold 50px arial", "#000000", "center", "Spacebar to Restart", 0, 30);
  }
}
```

### 8. ê²Œì„ ì¬ì‹œì‘
```js
function handleKeyPress() {
  if ((keyPressed[13] === true) && !STATE_START && !STATE_GAMEOVER) {
    startGame();
	}
  if (keyPressed[32] === true) {
    document.location.reload();
    startGame();
  }
}
```


</br>


## ğŸ’¡ ì½”ë“œ ê°œì„  
### ìƒì„± ê¸°ëŠ¥ì„ í•˜ëŠ” í•¨ìˆ˜ í†µí•©
```js
// ê³¼ì¼ê³¼ ë°”ìœ„ë¥¼ ìƒì„±í•˜ëŠ” í•¨ìˆ˜
function createObject(type) {
  var interval = Math.floor(Math.random() * 100) + 1000;

  setTimeout(function () {
    var object;
    if (type === "fruit") {
      var fruitIndex = Math.floor(Math.random() * fruitsName.length);
      object = {
        name: fruitsName[fruitIndex],
        x: Math.floor(Math.random() * (canvas.width - fruitsSize)),
        y: -fruitsSize,
        speed: Math.random() * 5 + 5
      };
      fruits.push(object);
    } else if (type === "rock") {
      object = {
        x: Math.floor(Math.random() * (canvas.width - fruitsSize)),
        y: -fruitsSize,
        speed: rockSpeed
      };
      rocks.push(object);
      rockSpeed += rockSpeedIncrement;
    }

    createObject(type); // ê°™ì€ íƒ€ì…ì˜ ê°ì²´ë¥¼ ê³„ì†í•´ì„œ ìƒì„±
  }, interval);
}

// ê³¼ì¼ ìƒì„±
function createFruits() {
  createObject("fruit");
}

// ë°”ìœ„ ìƒì„±
function createRock() {
  createObject("rock");
}

// ê³¼ì¼ê³¼ ë°”ìœ„ë¥¼ í™”ë©´ì— ê·¸ë ¤ëƒ„
function drawObjects() {
  fruits.forEach(function (fruit, index) {
    updateAndDrawFruit(fruit, index);
  });

  rocks.forEach(function (rock, index) {
    updateAndDrawRock(rock, index);
  });
}

function updateAndDrawFruit(fruit, index) {
  fruit.y += fruit.speed;
  drawImage(`./source/${fruit.name}.png`, fruit.x, fruit.y, fruitsSize);

  if (fruit.y > canvas.height) {
    fruits.splice(index, 1);
  }

  if (checkCollision(fruit)) {
    var getSound = document.getElementById('get')
    getSound.play();
    getSound.volume = 0.3;
    fruits.splice(index, 1);
    score += 3;
  }
}

function updateAndDrawRock(rock, index) {
  rock.y += rock.speed;
  drawImage(`./source/rock.png`, rock.x, rock.y, 93, 66);

  if (rock.y > canvas.height) {
    rocks.splice(index, 1);
  }

  if (checkCollision(rock)) {
    endGame();
  }

  if (score >= 100) {
    winGame()
  }
}

function drawImage(src, x, y, width, height = width) {
  let image = new Image;
  image.src = src;
  ctx.drawImage(image, x, y, width, height);
}
```

